{"version":3,"sources":["webpack://CyanoMobile/webpack/bootstrap","webpack://CyanoMobile/./node_modules/uuid/index.js","webpack://CyanoMobile/./node_modules/uuid/lib/bytesToUuid.js","webpack://CyanoMobile/./node_modules/uuid/lib/rng-browser.js","webpack://CyanoMobile/./node_modules/uuid/v1.js","webpack://CyanoMobile/./node_modules/uuid/v4.js","webpack://CyanoMobile/./src/CyanoBridge.ts","webpack://CyanoMobile/./src/client/asset.ts","webpack://CyanoMobile/./src/client/identity.ts","webpack://CyanoMobile/./src/client/index.ts","webpack://CyanoMobile/./src/client/message.ts","webpack://CyanoMobile/./src/client/proxy.ts","webpack://CyanoMobile/./src/client/smartcontract.ts","webpack://CyanoMobile/./src/index.ts","webpack://CyanoMobile/./src/utils.ts"],"names":[],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA,SAAS,mBAAO,CAAC,uCAAM;AACvB,SAAS,mBAAO,CAAC,uCAAM;;AAEvB;AACA;AACA;;AAEA;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAsB,QAAQ;AAC9B;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;ACjCA,UAAU,mBAAO,CAAC,yDAAW;AAC7B,kBAAkB,mBAAO,CAAC,iEAAmB;;AAE7C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AAC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","file":"browser.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","import * as uuid from 'uuid';\n\nclass CyanoBridge {\n\n    version: string;\n    listener: (e: any) => any;\n    timeout: number = 3000;\n    handlers: any;\n    constructor(timeout?: number) {\n        this.version = 'v1.0.0';\n        this.handlers = {};\n        if (timeout) {\n            this.timeout = timeout;\n        }\n    }\n\n    call(req: any) {\n        const id = uuid();\n        req.id = id;\n        return new Promise((resolve, reject) => {\n            const msg = btoa(encodeURIComponent(JSON.stringify(req)));\n            const uri = 'ontprovider://ont.io?params=' + msg;\n            this.sendMessage(uri);\n            this.handleMessageEvent(id, resolve, reject, req.action, req.needTimeout);\n        });\n    }\n\n    invokeRead() {\n        throw new Error('invokeRead not supported yet.');\n    }\n\n    parseMessage(msg: string): any {\n        return JSON.parse(decodeURIComponent(atob(msg)));\n    }\n\n    onMessage(handler: (res: any) => {}) {\n        if (this.listener) {\n            this.offMessage();\n        }\n        const listener = (e: any) => {\n            const res = this.parseMessage(e.data);\n            handler(res);\n        };\n        window.document.addEventListener('message', listener);\n        this.listener = listener;\n    }\n\n    offMessage() {\n        window.document.removeEventListener('message', this.listener);\n    }\n\n    private sendMessage(msg: string) {\n        window.postMessage(msg, '*');\n    }\n\n    private handleMessageEvent(\n        id: string,\n        resolve: any,\n        reject: any,\n        action: string,\n        needTimeout:\n        boolean = false\n        ) {\n        const that = this;\n        // tslint:disable-next-line:only-arrow-functions\n        const handler = function(event: any) {\n            const message = event.data;\n            if (!message) {\n                reject(event);\n            }\n            const res = that.parseMessage(message);\n            if (!res.id) {\n                reject('No message id');\n            }\n            if (!that.handlers[res.id]) {\n                reject('No message handler');\n            }\n            if (res.id !== handler.id) {\n                return;\n            }\n            document.removeEventListener('message', that.handlers[res.id]);\n            delete that.handlers[res.id];\n            if (res.action === action) {\n                resolve(res);\n            } else {\n                reject(res);\n            }\n        } as any;\n        handler.id = id;\n        this.handlers[id] = handler;\n        document.addEventListener('message', this.handlers[id]);\n        if (needTimeout) {\n            setTimeout(() => {\n                reject('Time out');\n            }, this.timeout);\n        }\n    }\n\n}\n\nexport default CyanoBridge;\n","import { call, version } from './proxy';\n\nexport const assetApi = {\n    getAccount(params?: { dappName: string, dappIcon: string }) {\n        const req = {\n            action: 'getAccount',\n            version,\n            params,\n            needTimeout: true\n        };\n        return call(req);\n    }\n};\n","import { call, version } from './proxy';\n\nexport const identityApi = {\n    getIdentity(params?: { dappName: string, dappIcon: string }) {\n        const req = {\n            action: 'getIdentity',\n            version,\n            params,\n            needTimeout: true\n        };\n        return call(req);\n    }\n};\n","import { assetApi as asset } from './asset';\nimport { identityApi as identity } from './identity';\nimport { messageApi as message } from './message';\nimport { scApi as smartContract } from './smartcontract';\n\nimport { registerClient } from './proxy';\n\nconst api = {\n    asset,\n    identity,\n    message,\n    smartContract\n};\n\nexport { registerClient, api};\n","import { call, version } from './proxy';\n\nexport const messageApi = {\n    signMessage(params: {message: string}) {\n        const req = {\n            action: 'login',\n            version,\n            params,\n            needTimeout: false\n        };\n        return call(req);\n    },\n\n    login(params: {\n        message: string,\n        type: string,\n        dappName: string,\n        dappIcon: string,\n        expired: number,\n        callback: string\n    }) {\n        if (!params.message || typeof params.message !== 'string') {\n            throw new Error('Parameter for login must contain a message.');\n        }\n        if (!params.type) {\n            params.type = 'account';\n        }\n        const req = {\n            action: 'login',\n            version,\n            params,\n            needTimeout: false\n        };\n        return call(req);\n    }\n};\n","import CyanoBridge from '../CyanoBridge';\n\nlet cb: CyanoBridge;\n\nexport function registerClient(timeout: number = 3000) {\n    cb = new CyanoBridge(timeout);\n}\n\nexport async function call(request: any) {\n    return cb.call(request);\n}\n\nexport const version = '1.0.0';\n","import { makeInvokeFunction } from '../utils';\nimport { call, version } from './proxy';\n\n// tslint:disable-next-line:one-variable-per-declaration\nexport const scApi = {\n    invoke(params: {\n        scriptHash: string,\n        operation: string,\n        args: any[],\n        gasPrice: number,\n        gasLimit: number,\n        payer: string,\n        config: {\n            login: boolean,\n            message: string,\n            url: string\n        }\n    }) {\n        if (!params.scriptHash || !params.operation || !params.args || params.args.length === 0) {\n            throw new Error('Invalid params.');\n        }\n        if (!params.payer) {\n            throw new Error('No payer.');\n        }\n\n        if (!params.config) {\n            params.config = {\n                login: true,\n                message: '',\n                url: ''\n            };\n        }\n        const functionParams = makeInvokeFunction(params.operation, params.args);\n        const req: any = {\n            action: 'invoke',\n            version,\n            params: {\n                login: params.config.login,\n                url: params.config.url,\n                message: params.config.message,\n                invokeConfig: {\n                    contractHash: params.scriptHash,\n                    functions: [functionParams],\n                    payer: params.payer,\n                    gasPrice: params.gasLimit = 500,\n                    gasLimit: params.gasPrice = 200000\n                }\n            }\n        };\n        return call(req);\n    },\n    invokeRead(params: {\n        scriptHash: string,\n        operation: string,\n        args: any[],\n        gasPrice: number,\n        gasLimit: number,\n        payer?: string,\n        config: {\n            login: boolean,\n            message: string,\n            url: string\n        }\n    }) {\n        if (!params.scriptHash || !params.operation || !params.args || params.args.length === 0) {\n            throw new Error('Invalid params.');\n        }\n\n        if (!params.config) {\n            params.config = {\n                login: true,\n                message: '',\n                url: ''\n            };\n        }\n        const functionParams = makeInvokeFunction(params.operation, params.args);\n        const req: any = {\n            action: 'invokeRead',\n            version,\n            params: {\n                login: params.config.login,\n                url: params.config.url,\n                message: params.config.message,\n                invokeConfig: {\n                    contractHash: params.scriptHash,\n                    functions: [functionParams],\n                    payer: params.payer,\n                    gasPrice: params.gasLimit = 500,\n                    gasLimit: params.gasPrice = 200000\n                }\n            }\n        };\n        return call(req);\n    },\n    invokePasswordFree(params: {\n        scriptHash: string,\n        operation: string,\n        args: any[],\n        gasPrice: number,\n        gasLimit: number,\n        payer: string,\n        config: {\n            login: boolean,\n            message: string,\n            url: string\n        }\n    }) {\n        if (!params.scriptHash || !params.operation || !params.args || params.args.length === 0) {\n            throw new Error('Invalid params.');\n        }\n\n        if (!params.payer) {\n            throw new Error('No payer.');\n        }\n\n        if (!params.config) {\n            params.config = {\n                login: true,\n                message: '',\n                url: ''\n            };\n        }\n        const functionParams = makeInvokeFunction(params.operation, params.args);\n        const req: any = {\n            action: 'invokePasswordFree',\n            version,\n            params: {\n                login: params.config.login,\n                url: params.config.url,\n                message: params.config.message,\n                invokeConfig: {\n                    contractHash: params.scriptHash,\n                    functions: [functionParams],\n                    payer: params.payer,\n                    gasPrice: params.gasLimit = 500,\n                    gasLimit: params.gasPrice = 200000\n                }\n            }\n        };\n        return call(req);\n    }\n};\n","// import CyanoBridge from './CyanoBridge';\nimport * as client from './client';\n\n// export { CyanoBridge };\n\nexport { client };\n","export function formatArgItem(p: any) {\n    if (p.type === 'Boolean' || p.type === 'Integer') {\n        return {\n            name: p.name,\n            value: p.value\n        };\n    } else if (p.type === 'String' || p.type === 'ByteArray' || p.type === 'Long' || p.type === 'Address') {\n        return {\n            name: p.name,\n            value: p.type + ':' + p.value\n        };\n    } else if (p.type === 'Array') {\n        return {\n            name: p.name,\n            value: p.value.map((v: any) => formatArgItem(v))\n        };\n    } else if (p.type === 'Map') {\n        const val: any = {};\n        for (const k of Object.keys(p.value)) {\n            val[k] = formatArgItem(p.value[k]);\n        }\n        return {\n            name: p.name,\n            value: val\n        };\n    } else {\n        throw new Error('Invalid parmeter type: ' + JSON.stringify(p));\n    }\n}\n\nexport function makeInvokeFunction(operation: string, args: any[]) {\n    const params = [];\n    for (const p of args) {\n        params.push(formatArgItem(p));\n    }\n    const obj = {\n        operation,\n        args: params\n    };\n    return obj;\n}\n"],"sourceRoot":""}